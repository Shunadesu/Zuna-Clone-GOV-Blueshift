(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{17203:(e,t,a)=>{"use strict";a.d(t,{default:()=>U});var s=a(95155),n=a(12115),o=a(22663),l=a(55955),i=a(84034),r=a(9306);let c={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Connect Wallet"};function d(e){return(0,s.jsx)(r.Y,{...e,labels:c})}var u=a(25223),m=a(98993),x=a(82910),f=a(82514),h=a(60447),g=a(51923),p=a(34466),b=a(12723),y=a(4035),j=a(69386),N=a(10232),v=a(96324),w=a(47734),k=a(74595),B=a(42299);function S(e){return BigInt(e.total_unlocked_searcher)+BigInt(e.total_unlocked_validator)+BigInt(e.total_unlocked_staker)}function I(e){return BigInt(e.total_locked_searcher)+BigInt(e.total_locked_validator)+BigInt(e.total_locked_staker)}async function A(e){try{let t=await fetch(e);if(!t.ok)throw Error("Failed to load merkle tree: ".concat(t.statusText));return await t.json()}catch(e){throw console.error("Error loading merkle tree:",e),e}}var C=a(77274);let E=new u.PublicKey("mERKcfxMC5SqJn4Ld4BUris3WKZZ1ojjWJ3A3J5CKxv"),V=new u.PublicKey("s3262ckXrLnzPXG8RScfFAYWDQzZYgnr4vo1R2SboMW"),D=BigInt("0");var P=a(81029).Buffer;function M(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D,s=P.allocUnsafe(8);s.writeBigUInt64LE(a);let n=[P.from("MerkleDistributor"),t.toBuffer(),s];return u.PublicKey.findProgramAddressSync(n,e)}function F(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,s=[P.from("ClaimStatus"),e.toBuffer(),t.toBuffer()];return u.PublicKey.findProgramAddressSync(s,a)}var L=a(81029).Buffer;async function T(e,t,a,s){var n;let o=new u.Transaction,[l]=M(),[i]=F(t,l);console.log("Building claim transaction:",{distributor:l.toBase58(),claimStatusPda:i.toBase58(),claimant:t.toBase58(),mint:V.toBase58(),programId:E.toBase58(),airdropVersion:D});let r=await (0,m.Ob)(V,t,!1,x.x5),c=await (0,m.Ob)(V,l,!0,x.x5);console.log("Token accounts:",{claimantAta:r.toBase58(),distributorAta:c.toBase58()});let d=u.ComputeBudgetProgram.setComputeUnitLimit({units:3e5});if(o.add(d),!await e.getAccountInfo(r)){console.log("Creating ATA for claimant");let e=(0,h.JA)(t,r,t,V,x.x5,x.EK);o.add(e)}let f=S(a),g=I(a);console.log("Claim amounts:",{amountUnlocked:f.toString(),amountLocked:g.toString(),proofLength:a.proof.length,proof:a.proof.map(e=>L.from(e).toString("hex"))});let p=a.proof.map(e=>{if(32!==e.length)throw Error("Invalid proof element length: ".concat(e.length,", expected 32"));return L.from(e)}),b=new u.TransactionInstruction({programId:E,keys:[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:x.x5,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1}],data:function(e){let t=L.from([78,177,98,123,210,21,187,83]),a=L.allocUnsafe(8);a.writeBigUInt64LE(BigInt(e.amount_unlocked.toString()));let s=L.allocUnsafe(8);s.writeBigUInt64LE(BigInt(e.amount_locked.toString()));let n=L.allocUnsafe(4);n.writeUInt32LE(e.proof.length);let o=L.concat(e.proof),l=L.concat([t,a,s,n,o]);return console.log("Serialized instruction data:",{discriminator:t.toString("hex"),amountUnlocked:e.amount_unlocked.toString(),amountLocked:e.amount_locked.toString(),proofLength:e.proof.length,totalLength:l.length,fullData:l.toString("hex")}),l}({amount_unlocked:new C.BN(f.toString()),amount_locked:new C.BN(g.toString()),proof:p})});if(o.add(b),s&&s>0){let e=u.ComputeBudgetProgram.setComputeUnitPrice({microLamports:s});o.add(e),console.log("Added priority fee instruction of ".concat(s," microlamports"))}let{blockhash:y}=await e.getLatestBlockhash();o.recentBlockhash=y,o.feePayer=t,console.log("Transaction details:",{instructions:o.instructions.length,feePayer:null==(n=o.feePayer)?void 0:n.toBase58(),recentBlockhash:o.recentBlockhash,signatures:o.signatures.map(e=>e.publicKey.toBase58())});try{let t=await e.simulateTransaction(o);console.log("Transaction simulation:",t),t.value.err&&console.error("Simulation failed:",t.value.err)}catch(e){console.error("Simulation error:",e)}return o}async function R(e,t){let[a]=M(),[s]=F(t,a);console.log("Checking claim status:",{claimant:t.toBase58(),distributor:a.toBase58(),claimStatusPda:s.toBase58()});try{let t=await e.getAccountInfo(s),a=null!==t;return console.log("Claim status result:",{hasClaimed:a,accountExists:!!t,accountData:(null==t?void 0:t.data)?"Present":"None"}),a}catch(e){return console.error("Error checking claim status:",e),!1}}async function O(e,t,a,s,n){console.log("fetchVoteResults called with addresses:",{mintAddress:t,yesAddress:a,noAddress:s,abstainAddress:n});try{var o,l,i,r,c;let d=new u.PublicKey(t),h=new u.PublicKey(a),g=new u.PublicKey(s),p=new u.PublicKey(n),[b]=M(void 0,d),y=await (0,m.Ob)(d,b,!0,x.x5),[j,N,v]=await Promise.all([(0,m.Ob)(d,h,!0,x.x5),(0,m.Ob)(d,g,!1,x.x5),(0,m.Ob)(d,p,!1,x.x5)]);console.log("All addresses:",{mint:d.toBase58(),distributor:b.toBase58(),distributorAta:y.toBase58(),yesAta:j.toBase58(),noAta:N.toBase58(),abstainAta:v.toBase58()}),console.log("Making getMultipleAccountsInfo call for 5 accounts...");let w=await e.getMultipleAccountsInfo([d,y,j,N,v]);console.log("getMultipleAccountsInfo returned:",w.map(e=>!!(null==e?void 0:e.data)));let k=BigInt(0);if(null==(o=w[0])?void 0:o.data)try{k=w[0].data.readBigUInt64LE(36),console.log("Total supply:",k.toString())}catch(e){console.warn("Failed to parse mint account:",e)}let B=BigInt(0);if(null==(l=w[1])?void 0:l.data)try{B=f.O9.decode(w[1].data).amount,console.log("Distributor balance:",B.toString())}catch(e){console.warn("Failed to decode distributor account data:",e)}let S=BigInt(0),I=BigInt(0),A=BigInt(0);if(null==(i=w[2])?void 0:i.data)try{S=f.O9.decode(w[2].data).amount}catch(e){console.warn("Failed to decode yes vote account data:",e)}if(null==(r=w[3])?void 0:r.data)try{I=f.O9.decode(w[3].data).amount}catch(e){console.warn("Failed to decode no vote account data:",e)}if(null==(c=w[4])?void 0:c.data)try{A=f.O9.decode(w[4].data).amount}catch(e){console.warn("Failed to decode abstain vote account data:",e)}let C=S+I+A,E=k-B,V=k>0?Number(C*BigInt(1e4)/k)/100:0,D=k>0?Number(E*BigInt(1e4)/k)/100:0;return console.log("Final vote results:",{yesVotes:S.toString(),noVotes:I.toString(),abstainVotes:A.toString(),totalVotes:C.toString(),totalSupply:k.toString(),distributorBalance:B.toString(),totalClaimed:E.toString(),participationRate:V,claimRate:D}),{yesVotes:S,noVotes:I,abstainVotes:A,totalVotes:C,totalSupply:k,totalClaimed:E,distributorBalance:B,participationRate:V,claimRate:D,lastUpdated:Date.now()}}catch(e){return console.error("Error fetching vote results:",e),{yesVotes:BigInt(0),noVotes:BigInt(0),abstainVotes:BigInt(0),totalVotes:BigInt(0),totalSupply:BigInt(0),totalClaimed:BigInt(0),distributorBalance:BigInt(0),participationRate:0,claimRate:0,lastUpdated:Date.now()}}}function _(e,t){return t===BigInt(0)?"0.00":(Number(e*BigInt(1e4)/t)/100).toFixed(2)}function U(){let{publicKey:e,sendTransaction:t}=(0,l.v)(),{connection:a}=(0,i.w)(),[r,c]=(0,n.useState)(null),[C,E]=(0,n.useState)(null),[D,P]=(0,n.useState)(!1),[M,F]=(0,n.useState)(!1),[L,U]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(null),[W,z]=(0,n.useState)(null),[G,J]=(0,n.useState)(!1),[q,H]=(0,n.useState)(BigInt(0)),[Q,X]=(0,n.useState)(!1),[Z,$]=(0,n.useState)(!1),[ee,et]=(0,n.useState)(!1),[ea,es]=(0,n.useState)("yes"),[en,eo]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{P(!0);try{let e=await A("/simd326-merkle-tree.json");c(e)}catch(e){console.error("Error loading merkle tree:",e),o.Ay.error("Failed to load merkle tree data")}finally{P(!1)}})()},[]),(0,n.useEffect)(()=>{e&&r?(E(function(e,t){let a=t.toBytes();for(let t of e.tree_nodes)if(function(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(t.claimant,Array.from(a)))return t;return null}(r,e)),$(!0),R(a,e).then(e=>{U(e)}).finally(()=>{$(!1)})):(E(null),U(!1))},[e,r,a]),(0,n.useEffect)(()=>{let e=async()=>{J(!0);try{let e=await O(a,"s3262ckXrLnzPXG8RScfFAYWDQzZYgnr4vo1R2SboMW","YESsimd326111111111111111111111111111111111","nosimd3261111111111111111111111111111111111","ABSTA1Nsimd32611111111111111111111111111111");if(Y(e),C){let t=S(C)+I(C),a=function(e,t){if(t===BigInt(0))return{userAllocation:e,votingPowerPercentage:0,isSignificantVoter:!1};let a=Number(e*BigInt(1e6)/t)/1e4;return{userAllocation:e,votingPowerPercentage:a,isSignificantVoter:a>=.1}}(t,e.totalSupply);z(a)}}catch(e){console.error("Error loading vote data:",e)}finally{J(!1)}};e();let t=setInterval(()=>{"visible"===document.visibilityState&&e()},15e3);return()=>clearInterval(t)},[a,C]);let el=(0,n.useCallback)(async()=>{if(!e)return void H(BigInt(0));X(!0);try{let t=await (0,m.Ob)(V,e,!1,x.x5),s=await a.getAccountInfo(t);if(null==s?void 0:s.data){let e=f.O9.decode(s.data);H(e.amount)}else H(BigInt(0))}catch(e){console.error("Error fetching token balance:",e),H(BigInt(0))}finally{X(!1)}},[e,a]);(0,n.useEffect)(()=>{el()},[el]);let ei=(0,n.useCallback)(async()=>{if(!e||!C)return;F(!0);let n=o.Ay.loading("Building transaction...");try{let l=await T(a,e,C,1e5);o.Ay.loading("Sending transaction...",{id:n});let i=await t(l,a);o.Ay.loading("Confirming...",{id:n}),await a.confirmTransaction(i,"confirmed"),o.Ay.success((0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tokens claimed!"}),(0,s.jsx)("a",{href:"https://solscan.io/tx/".concat(i),target:"_blank",rel:"noopener noreferrer",className:"block text-xs mt-1 underline",children:"View transaction â†’"})]}),{id:n,duration:8e3}),U(!0),await new Promise(e=>setTimeout(e,1e3)),await el()}catch(e){o.Ay.error(e.message||"Failed to claim",{id:n})}finally{F(!1)}},[e,C,a,t,el]),er=(0,n.useCallback)(async()=>{if(!e)return;let n=parseFloat(en||"0");if(n<=0)return void o.Ay.error("Enter a vote amount");let l=BigInt(Math.floor(1e9*n));if(l>q)return void o.Ay.error("Insufficient balance");et(!0);let i={yes:new u.PublicKey("YESsimd326111111111111111111111111111111111"),no:new u.PublicKey("nosimd3261111111111111111111111111111111111"),abstain:new u.PublicKey("ABSTA1Nsimd32611111111111111111111111111111")}[ea],r=ea.toUpperCase(),c=o.Ay.loading("Casting ".concat(r," vote..."));try{console.log("Vote details:",{selectedVoteOption:ea,voteAccount:i.toString(),amount:n,amountBN:l.toString(),userTokenBalance:q.toString()});let d=await (0,m.Ob)(V,e,!1,x.x5),f=new u.Transaction,p=await (0,m.Ob)(V,i,!0,x.x5);if(console.log("ATAs:",{userAta:d.toString(),voteAta:p.toString()}),!await a.getAccountInfo(p)){let t=(0,h.JA)(e,p,i,V,x.x5);f.add(t)}let b=(0,g.C3)(d,p,e,l,[],x.x5);f.add(b);let y=await t(f,a);await a.confirmTransaction({signature:y,blockhash:(await a.getLatestBlockhash()).blockhash,lastValidBlockHeight:(await a.getLatestBlockhash()).lastValidBlockHeight},"confirmed"),o.Ay.success((0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"font-semibold",children:[r," vote cast!"]}),(0,s.jsx)("a",{href:"https://solscan.io/tx/".concat(y),target:"_blank",rel:"noopener noreferrer",className:"block text-xs mt-1 underline",children:"View transaction â†’"})]}),{id:c,duration:8e3}),eo(""),await el()}catch(t){console.error("Vote error:",t);let e=t.message||"Vote failed";o.Ay.error("Vote failed: ".concat(e),{id:c})}finally{et(!1)}},[e,ea,en,q,a,t,el]),ec=e=>{let t=BigInt(1e9);return"".concat((e/t).toLocaleString(),".").concat((e%t).toString().padStart(9,"0").slice(0,3))},ed=K?[{name:"YES",value:Number(K.yesVotes),color:"#00FFFF"},{name:"NO",value:Number(K.noVotes),color:"#69A2F1"},{name:"ABSTAIN",value:Number(K.abstainVotes),color:"#2A2B30"}].filter(e=>e.value>0):[],eu=K?[{name:"CLAIMED",value:Number(K.totalClaimed)/Number(K.totalSupply)*100,fill:"#00FFFF"},{name:"VOTED",value:K.participationRate,fill:"#69A2F1"},{name:"UNCLAIMED",value:Number(K.distributorBalance)/Number(K.totalSupply)*100,fill:"#2A2B30"}]:[];K&&(K.totalClaimed,K.totalVotes,K.distributorBalance);let[em,ex]=(0,n.useState)(null),[ef,eh]=(0,n.useState)(null),[eg,ep]=(0,n.useState)(null),[eb,ey]=(0,n.useState)(null),[ej,eN]=(0,n.useState)(Date.now());(0,n.useEffect)(()=>{let e=setInterval(()=>{eN(Date.now())},1e3);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await a.getEpochInfo();if(ex(e.epoch),eh(e.absoluteSlot),ep({slotsInEpoch:e.slotsInEpoch,slotIndex:e.slotIndex}),e.epoch<=842){let t=842-e.epoch,a=432e3*t+(e.slotsInEpoch-e.slotIndex),s=Date.now()+400*a;ey(s)}}catch(e){console.error("Error fetching epoch info:",e)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[a]);let ev=K?{participationRate:K.participationRate,yesPercentage:Number(K.totalVotes)>0?Number(K.yesVotes)/Number(K.totalVotes)*100:0,quorumMet:K.participationRate>=33.33,supermajorityMet:Number(K.totalVotes)>0&&Number(K.yesVotes)/Number(K.totalVotes)>=2/3,votesNeededForQuorum:Math.max(0,Math.ceil(.3333*Number(K.totalSupply)/1e9)-Number(K.totalVotes)/1e9),timeRemaining:(()=>{if(!eb)return"LOADING";if(null!==em&&em<840)return"NOT STARTED";let e=eb-ej;if(e<=0)return"ENDED";let t=Math.floor(e/864e5),a=Math.floor(e%864e5/36e5),s=Math.floor(e%36e5/6e4),n=Math.floor(e%6e4/1e3);return t>0?"".concat(t,"d ").concat(a,"h ").concat(s,"m ").concat(n,"s"):a>0?"".concat(a,"h ").concat(s,"m ").concat(n,"s"):s>0?"".concat(s,"m ").concat(n,"s"):"".concat(n,"s")})()}:null,ew=ev?ev.quorumMet?ev.supermajorityMet?{status:"PASSING",subtext:"",color:"text-blueshift-cyan"}:{status:"PENDING",subtext:"PENDING SUPERMAJORITY",color:"text-blueshift-blue"}:{status:"PENDING",subtext:"PENDING QUORUM",color:"text-blueshift-gray-400"}:{status:"LOADING",subtext:"",color:"text-blueshift-gray-400"};return(0,s.jsxs)("div",{className:"min-h-screen px-4 py-8 bg-gradient-radial from-blueshift-cyan/[0.02] to-blueshift-dark",children:[(0,s.jsxs)("header",{className:"max-w-7xl mx-auto mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("img",{src:"/logo.svg",alt:"Blueshift Logo",className:"h-6 w-auto"}),(0,s.jsx)(d,{className:"!bg-gradient-to-r !from-blueshift-cyan !to-blueshift-blue !text-blueshift-dark hover:!shadow-lg hover:!shadow-blueshift-cyan/25 !font-mono !font-semibold !rounded-xl !transition-all !duration-200 hover:!scale-105"})]}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white font-mono uppercase mb-2",children:"SIMD-0326:Alpenglow"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-xs",children:[(0,s.jsxs)("a",{href:"https://github.com/solana-foundation/solana-improvement-documents/pull/326",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-gray-400 hover:text-blueshift-cyan font-mono transition-colors",children:[(0,s.jsx)("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12"})}),(0,s.jsx)("span",{children:"View SIMD"})]}),(0,s.jsxs)("a",{href:"https://forum.solana.com/t/simd-0326-alpenglow-protocol/1234",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-gray-400 hover:text-blueshift-cyan font-mono transition-colors",children:[(0,s.jsxs)("svg",{className:"w-3 h-3 fill-current",x:"0",y:"0",version:"1.1",viewBox:"0 0 397.7 311.7",children:[(0,s.jsx)("path",{d:"M64.6 237.9a13 13 0 0 1 9.2-3.8h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7a13 13 0 0 1-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1l62.7-62.7z"}),(0,s.jsx)("path",{d:"M64.6 3.8C67.1 1.4 70.4 0 73.8 0h317.4c5.8 0 8.7 7 4.6 11.1l-62.7 62.7a13 13 0 0 1-9.2 3.8H6.5c-5.8 0-8.7-7-4.6-11.1L64.6 3.8z"}),(0,s.jsx)("path",{d:"M333.1 120.1a13 13 0 0 0-9.2-3.8H6.5c-5.8 0-8.7 7-4.6 11.1l62.7 62.7a13 13 0 0 0 9.2 3.8h317.4c5.8 0 8.7-7 4.6-11.1l-62.7-62.7z"})]}),(0,s.jsx)("span",{children:"Forum Discussion"})]})]})]})]}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto mb-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"glass-card p-4 text-center flex flex-col relative group",title:"Overall vote status - shows if proposal is passing",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white mb-2 font-mono uppercase tracking-wider",children:"Status"}),(0,s.jsxs)("div",{className:"mb-2 flex-1 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl font-bold font-mono ".concat(ew.color),children:ew.status}),(null==ev?void 0:ev.quorumMet)&&(null==ev?void 0:ev.supermajorityMet)&&(0,s.jsx)("svg",{className:"w-5 h-5 fill-current text-blueshift-cyan",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,s.jsx)("p",{className:"text-xs text-blueshift-gray-500 font-mono",children:ew.subtext||(ev?"".concat(ev.yesPercentage.toFixed(1),"% VOTED YES"):"Loading...")})]}),(0,s.jsxs)("div",{className:"glass-card p-4 text-center flex flex-col relative group",title:"Quorum requires at least 33.33% of total token supply to participate in voting",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white mb-2 font-mono uppercase tracking-wider",children:"Quorum"}),(0,s.jsxs)("div",{className:"mb-2 flex-1 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl font-bold font-mono ".concat((null==ev?void 0:ev.quorumMet)?"text-blueshift-cyan":"text-blueshift-gray-400"),children:(null==ev?void 0:ev.quorumMet)?"ACHIEVED":"PENDING"}),(null==ev?void 0:ev.quorumMet)&&(0,s.jsx)("svg",{className:"w-5 h-5 fill-current text-blueshift-cyan",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,s.jsx)("p",{className:"text-xs text-blueshift-gray-500 font-mono",children:ev?"".concat(ev.participationRate.toFixed(1),"% PARTICIPATED"):"Loading..."})]}),(0,s.jsxs)("div",{className:"glass-card p-4 text-center flex flex-col relative group",title:"Supermajority requires at least 66.67% of participants to vote YES",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white mb-2 font-mono uppercase tracking-wider",children:"Supermajority"}),(0,s.jsxs)("div",{className:"mb-2 flex-1 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-xl font-bold font-mono ".concat((null==ev?void 0:ev.supermajorityMet)?"text-blueshift-cyan":"text-blueshift-gray-400"),children:(null==ev?void 0:ev.supermajorityMet)?"ACHIEVED":"PENDING"}),(null==ev?void 0:ev.supermajorityMet)&&(0,s.jsx)("svg",{className:"w-5 h-5 fill-current text-blueshift-cyan",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,s.jsx)("p",{className:"text-xs text-blueshift-gray-500 font-mono",children:ev?"".concat(ev.yesPercentage.toFixed(1),"% VOTED YES"):"Loading..."})]}),(0,s.jsxs)("div",{className:"glass-card p-4 text-center flex flex-col relative group",title:"Voting deadline - countdown to end of Epoch 842",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-white mb-2 font-mono uppercase tracking-wider",children:"Time Left"}),(0,s.jsx)("div",{className:"mb-2 flex-1 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl font-bold font-mono text-white",children:ev?ev.timeRemaining:"TBD"})}),(0,s.jsx)("p",{className:"text-xs text-blueshift-gray-500 font-mono uppercase",children:"UNTIL EPOCH 843"})]})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white mb-4 font-mono uppercase tracking-wider",children:"Vote Distribution"}),ed.length>0?(0,s.jsx)(p.u,{width:"100%",height:200,children:(0,s.jsxs)(b.r,{children:[(0,s.jsx)(y.F,{data:ed,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",stroke:"none",children:ed.map((e,t)=>(0,s.jsx)(j.f,{fill:e.color,stroke:"none"},"cell-".concat(t)))}),(0,s.jsx)(N.m,{formatter:e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,a=BigInt(10**t);return"".concat((e/a).toLocaleString(),".").concat((e%a).toString().padStart(t,"0").slice(0,3))})(BigInt(e)),contentStyle:{backgroundColor:"#0A0B0D",color:"#CDD1DB",border:"1px solid #2A2B30",borderRadius:"8px",fontFamily:"JetBrains Mono, monospace"},labelStyle:{color:"#CDD1DB"}})]})}):(0,s.jsx)("div",{className:"h-[200px] flex items-center justify-center text-blueshift-gray-500",children:"No votes yet"}),(0,s.jsx)("div",{className:"mt-4 space-y-2",children:K&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-cyan uppercase tracking-wider",children:"YES"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[_(K.yesVotes,K.totalVotes),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-blue uppercase tracking-wider",children:"NO"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[_(K.noVotes,K.totalVotes),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 uppercase tracking-wider",children:"ABSTAIN"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[_(K.abstainVotes,K.totalVotes),"%"]})]})]})})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white mb-4 font-mono uppercase tracking-wider",children:"Token Distribution"}),eu.length>0?(0,s.jsx)(p.u,{width:"100%",height:200,children:(0,s.jsxs)(v.E,{data:eu,children:[(0,s.jsx)(w.W,{dataKey:"name",stroke:"#6B6D76",style:{fontFamily:"JetBrains Mono, monospace"}}),(0,s.jsx)(k.h,{stroke:"#6B6D76",domain:[0,100],style:{fontFamily:"JetBrains Mono, monospace"}}),(0,s.jsx)(N.m,{cursor:!1,content:e=>{let{active:t,payload:a,label:n}=e;return t&&a&&a.length?(0,s.jsxs)("div",{style:{backgroundColor:"#0A0B0D",color:"#CDD1DB",border:"1px solid #2A2B30",borderRadius:"8px",fontFamily:"JetBrains Mono, monospace",padding:"8px 12px"},children:[(0,s.jsx)("div",{children:n}),(0,s.jsxs)("div",{children:[a[0].value.toFixed(1),"%"]})]}):null}}),(0,s.jsx)(B.y,{dataKey:"value",radius:[8,8,0,0]})]})}):(0,s.jsx)("div",{className:"h-[200px] flex items-center justify-center text-blueshift-gray-500",children:"Loading data..."}),K&&(0,s.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-cyan uppercase tracking-wider",children:"Claimed"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[(Number(K.totalClaimed)/Number(K.totalSupply)*100).toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-blue uppercase tracking-wider",children:"Voted"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[K.participationRate.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 uppercase tracking-wider",children:"Unclaimed"}),(0,s.jsxs)("span",{className:"text-blueshift-gray-300",children:[(Number(K.distributorBalance)/Number(K.totalSupply)*100).toFixed(1),"%"]})]})]})]}),e&&(0,s.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white mb-4 font-mono uppercase tracking-wider",children:"Your Allocation"}),C?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono text-sm uppercase tracking-wider",children:"Current Balance"}),(0,s.jsx)("span",{className:"text-lg font-bold text-blueshift-cyan font-mono",children:ec(q)})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono text-sm uppercase tracking-wider",children:"Claimed"}),(0,s.jsx)("span",{className:"font-mono text-white text-sm",children:L?ec(S(C)):"0.000"})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono text-sm uppercase tracking-wider",children:"Unclaimed"}),(0,s.jsx)("span",{className:"font-mono text-blueshift-gray-500 text-sm",children:ec(L?I(C):S(C))})]}),W&&(0,s.jsx)("div",{className:"pt-4 border-t border-blueshift-gray-800",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono text-sm uppercase tracking-wider",children:"Voting Power"}),(0,s.jsxs)("span",{className:"text-base font-bold text-blueshift-blue font-mono",children:[W.votingPowerPercentage.toFixed(4),"%"]})]})}),Z?(0,s.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blueshift-cyan mr-3",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono",children:"Checking claim status..."})]}):L?(0,s.jsxs)("div",{className:"glass-card p-4 bg-blueshift-cyan/10 border-blueshift-cyan/30",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-blueshift-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{className:"text-blueshift-cyan font-mono uppercase tracking-wider font-semibold",children:"Tokens Already Claimed"})]}),(0,s.jsx)("p",{className:"text-blueshift-gray-400 text-center text-sm mt-2 font-mono",children:"Your allocation has been successfully claimed"})]}):(0,s.jsx)("button",{onClick:ei,disabled:M,className:"w-full btn-primary",children:M?"Claiming...":"Claim Tokens"})]}):(0,s.jsx)("p",{className:"text-blueshift-gray-500 text-center py-8 font-mono text-sm",children:"No allocation found for this wallet"})]}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white mb-4 font-mono uppercase tracking-wider",children:"Cast Your Vote"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-white font-mono text-sm uppercase tracking-wider",children:"Vote Option"}),(0,s.jsxs)("div",{className:"flex bg-blueshift-gray-800 rounded-lg p-1",children:[(0,s.jsx)("button",{type:"button",onClick:()=>es("yes"),className:"flex-1 py-2 px-4 rounded-md text-sm font-mono font-semibold transition-all ".concat("yes"===ea?"bg-blueshift-cyan text-blueshift-dark":"text-blueshift-cyan hover:bg-blueshift-gray-700"),children:"YES"}),(0,s.jsx)("button",{type:"button",onClick:()=>es("no"),className:"flex-1 py-2 px-4 rounded-md text-sm font-mono font-semibold transition-all ".concat("no"===ea?"bg-blueshift-blue text-white":"text-blueshift-blue hover:bg-blueshift-gray-700"),children:"NO"}),(0,s.jsx)("button",{type:"button",onClick:()=>es("abstain"),className:"flex-1 py-2 px-4 rounded-md text-sm font-mono font-semibold transition-all ".concat("abstain"===ea?"bg-blueshift-gray-400 text-blueshift-dark":"text-blueshift-gray-400 hover:bg-blueshift-gray-700"),children:"ABSTAIN"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("label",{className:"font-mono text-sm uppercase tracking-wider ".concat("yes"===ea?"text-blueshift-cyan":"no"===ea?"text-blueshift-blue":"text-blueshift-gray-400"),children:["Amount for ",ea.toUpperCase()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-blueshift-gray-400 font-mono text-xs uppercase tracking-wider",children:"Available: "}),(0,s.jsx)("span",{className:"text-blueshift-cyan font-mono text-xs",children:ec(q)})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"number",step:"0.001",value:en,onChange:e=>eo(e.target.value),placeholder:"Amount for ".concat(ea.toUpperCase()),className:"input-dark flex-1 font-mono"}),(0,s.jsx)("button",{type:"button",onClick:()=>eo((Number(q)/1e9).toString()),className:"px-3 py-2 bg-blueshift-gray-800 hover:bg-blueshift-gray-700 text-sm font-mono rounded-lg border border-blueshift-gray-600 transition-colors ".concat("yes"===ea?"text-blueshift-cyan":"no"===ea?"text-blueshift-blue":"text-blueshift-gray-400"),children:"MAX"})]})]}),(0,s.jsx)("button",{onClick:er,disabled:ee||q===BigInt(0)||0>=parseFloat(en||"0"),className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:ee?"Casting Vote...":q===BigInt(0)?"No Tokens Available":"Submit ".concat(ea.toUpperCase()," Vote")}),(0,s.jsx)("p",{className:"text-xs text-blueshift-gray-500 text-center",children:q===BigInt(0)?"You need tokens to vote. Claim your allocation above if eligible.":"Votes are permanent and transfer tokens to vote addresses"})]})]})]})]})]})}},45060:(e,t,a)=>{Promise.resolve().then(a.bind(a,17203))},47790:()=>{}},e=>{e.O(0,[956,33,919,519,587,978,441,255,358],()=>e(e.s=45060)),_N_E=e.O()}]);